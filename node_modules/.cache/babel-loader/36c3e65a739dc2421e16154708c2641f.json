{"ast":null,"code":"var _jsxFileName = \"/Users/musta88/Development/code/Module4/property-managment/front-end-property-managment/src/components/dashboard/issues/IssueList.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\n\nconst IssueList = () => {\n  const useStyles = makeStyles(theme => ({\n    root: {\n      width: '100%',\n      maxWidth: 360,\n      backgroundColor: theme.palette.background.paper\n    }\n  }));\n  const classes = useStyles();\n  const [checked, setChecked] = React.useState([]);\n  const [nonCompleted, setNonCompleted] = React.useState(false);\n\n  const handleToggle = issue => () => {\n    const confObj = {\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Accept\": \"application/json\"\n      },\n      body: JSON.stringify({\n        isCompleted: !issue.isCompleted\n      })\n    };\n    fetch(`http://localhost:3001/issues/${issue.id}`, confObj).then(resp => resp.json()).then(obj => getIssues());\n  };\n\n  const getIssues = () => {\n    fetch(\"http://localhost:3001/issues\").then(resp => resp.json()).then(obj => {\n      let objRender = nonCompleted ? obj.issues.filter(issue => issue.isCompleted === false) : obj.issues;\n      setChecked(objRender);\n    });\n  };\n\n  useEffect(() => {\n    getIssues();\n  }, []);\n\n  const handeClick = () => {\n    setNonCompleted(!nonCompleted);\n    getIssues();\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: () => handeClick(),\n    variant: \"contained\",\n    color: nonCompleted ? \"secondary\" : \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }, nonCompleted ? \"Non Completed\" : \"All Todos\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(List, {\n    dense: true,\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }\n  }, checked.map(issue => {\n    const labelId = `checkbox-list-secondary-label-${issue.message}`;\n    return /*#__PURE__*/React.createElement(ListItem, {\n      key: issue.id,\n      button: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(ListItemAvatar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Avatar, {\n      src: issue.isCompleted === true ? \"https://lh3.googleusercontent.com/YoZLPLcTuAZv2_04F5Rr1mmDoBYH9hxBZmusLpW2Dk4ycsbLydBBpC4b3q1YgG4c9ls\" : \"https://www.stickertalk.com/wp-content/uploads/2018/07/D-90-147.jpg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(Link, {\n      key: issue.id,\n      to: `/issues/${issue.id}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 15\n      }\n    }, \"  \", /*#__PURE__*/React.createElement(ListItemText, {\n      id: labelId,\n      primary: ` ${issue.message}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 67\n      }\n    }), \"   \"), /*#__PURE__*/React.createElement(ListItemSecondaryAction, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Checkbox, {\n      edge: \"end\",\n      onChange: handleToggle(issue),\n      checked: issue.isCompleted ? true : false,\n      inputProps: {\n        'aria-labelledby': labelId\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 17\n      }\n    })));\n  })));\n};\n\nexport default IssueList;","map":{"version":3,"sources":["/Users/musta88/Development/code/Module4/property-managment/front-end-property-managment/src/components/dashboard/issues/IssueList.js"],"names":["React","useState","useEffect","Link","makeStyles","List","ListItem","ListItemSecondaryAction","ListItemText","ListItemAvatar","Checkbox","Avatar","Button","IssueList","useStyles","theme","root","width","maxWidth","backgroundColor","palette","background","paper","classes","checked","setChecked","nonCompleted","setNonCompleted","handleToggle","issue","confObj","method","headers","body","JSON","stringify","isCompleted","fetch","id","then","resp","json","obj","getIssues","objRender","issues","filter","handeClick","map","labelId","message"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\nimport {Link} from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\n\nconst IssueList = () => {\n  \n\n  const useStyles = makeStyles((theme) => ({\n    root: {\n      width: '100%',\n      maxWidth: 360,\n      backgroundColor: theme.palette.background.paper,\n    },\n  }));\n\n\n\n  \n  const classes = useStyles();\n  const [checked, setChecked] = React.useState([]);\n  const [nonCompleted, setNonCompleted] = React.useState(false)\n\n\n  const handleToggle = (issue) => () => {\n    \n\n    const confObj = {\n      method: \"PATCH\",\n      headers:{\n        \"Content-Type\": \"application/json\",\n        \"Accept\": \"application/json\"\n      },\n      body: JSON.stringify({\n        isCompleted: !issue.isCompleted\n      })\n    }\n\n    fetch(`http://localhost:3001/issues/${issue.id}`, confObj)\n    .then(resp => resp.json())\n    .then(obj => getIssues())\n    \n  };\n\n\n\nconst  getIssues = () => {\n\n    fetch(\"http://localhost:3001/issues\")\n    .then(resp => resp.json())\n    .then( obj => {\n      \n      let objRender = nonCompleted? obj.issues.filter(issue => issue.isCompleted === false) : obj.issues\n      \n      setChecked(objRender)})\n  }\n\n\n\n  useEffect(() => {\n    getIssues()\n      \n    }, [])\n\n    const handeClick = () => {\n\n      setNonCompleted(!nonCompleted)\n      getIssues()\n    }\n\n\n\n\n    return (    \n      <div>\n        <Button onClick={() => handeClick()} variant=\"contained\" color={ nonCompleted?  \"secondary\" : \"primary\"}>\n  {nonCompleted?   \"Non Completed\" : \"All Todos\"}\n</Button>\n \n      <br></br>\n      \n      <List dense className={classes.root}>\n\n      \n        {\n        \n        \n        checked.map((issue) => {\n          const labelId = `checkbox-list-secondary-label-${issue.message}`;\n          \n          return (\n           \n        \n            <ListItem key={issue.id} button>\n         \n              <ListItemAvatar>\n            \n                <Avatar\n             \n                  src=  {issue.isCompleted === true? \"https://lh3.googleusercontent.com/YoZLPLcTuAZv2_04F5Rr1mmDoBYH9hxBZmusLpW2Dk4ycsbLydBBpC4b3q1YgG4c9ls\" :\"https://www.stickertalk.com/wp-content/uploads/2018/07/D-90-147.jpg\"}\n                />\n              </ListItemAvatar>\n              <Link key={issue.id} to={`/issues/${issue.id}`}  >  <ListItemText id={labelId} primary={` ${issue.message}`} />   </Link>\n              <ListItemSecondaryAction>\n    \n                <Checkbox\n                \n                  edge=\"end\"\n                  onChange={(handleToggle(issue))}\n                  checked={issue.isCompleted? true : false}\n                  inputProps={{ 'aria-labelledby': labelId }}\n                />\n           \n              </ListItemSecondaryAction>\n            </ListItem>\n         \n          );\n        })}\n      </List>\n      </div>\n\n    );\n    \n      }\n\n\nexport default IssueList\n\n\n\n\n\n  \n  \n"]},"metadata":{},"sourceType":"module"}